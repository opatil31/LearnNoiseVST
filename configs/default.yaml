# Default configuration for LearnNoiseVST

# Transform settings
transform:
  num_bins: 16
  bound: 5.0
  tail_quantiles: [0.001, 0.999]
  min_derivative: 0.001
  momentum: 0.1
  affine: false

# Denoiser settings (Phase 2)
denoiser:
  type: "tabular"  # or "imaging"
  # Tabular settings
  embed_dim: 64
  hidden_dim: 128
  # Imaging settings
  base_channels: 32
  depth: 4

# Training settings (Phase 3)
training:
  # Optimizer
  lr_T: 0.001
  lr_D: 0.001
  weight_decay: 0.0

  # Denoiser training
  max_D_epochs: 50
  patience: 10
  min_delta: 0.0001

  # Transform training
  T_epochs_per_outer: 10
  num_outer_iters: 20

  # Loss weights
  lambda_homo: 1.0
  lambda_vf: 0.5
  lambda_shape: 0.1
  lambda_reg: 0.01
  lambda_prox: 0.1

  # Options
  stop_grad_D: false
  basis_degree: 2
  vf_bandwidth: 0.5

  # Convergence
  convergence_threshold: 0.01

  # Data
  batch_size: 256

# Noise model settings (Phase 4)
noise_model:
  num_quantiles: 1023
  shrinkage: 0.1
  fit_copula: true
  location_scale_knots: 8

# Data settings
data:
  train_split: 0.7
  val_split: 0.15
  calibration_split: 0.15

# Device
device: "cuda"  # or "cpu"
seed: 42
